{% extends 'template.html.twig' %}
{% set body = 'home1 product-category' %}

{% block stylesheet %}
  <style>
    .item-inner .images-container {
      height: 200px;
      background-position: center;
      background-size: cover;
      background-image: url("{{ asset('image/voiture.jpg') }}");
    }
    .item-inner .caption .manufacture-product {
      margin-bottom: 0px;
    }
    .label-product {
      cursor: pointer;
    }
    .owl-stage {
      display: flex;
      flex-wrap: wrap;
    }
    .owl-item {
      flex: 1 0 25%;
      max-width: 25%;
    }
    @media (max-width: 991px) {
      .owl-item {
        flex: 1 0 50%;
        max-width: 50%;
      }
    }
  </style>
{% endblock %}

{% block content %}

  <div class="breadcrumbs container-pushed">
    <div class="container">
      <div class="inner">
        <h1>Booking</h1>
        <ul class="breadcrumb">
          <li><a href="{{ path('homepage') }}">Home</a></li>
          <li><a href="{{ path('booking_create') }}">Booking</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div id="product-category" class="container layer-category">
    <div class="row">
      <div id="content" class="col-md-12">
        
        {#<a href="{{ path('vehicules') }}" class="button" >Select a vehicule</a>#}

        {% if form.vehicules is defined %}
        {% do form.vehicules.setRendered %}

        {{ form_start(form) }}
        {{ form_widget(form) }}

        <div class="box-style">
          <div class="col-product">
            <div class="owl-container">
              <div class="tt-product ">
                <div class="tab-content">
                  <div
                    class="tab-container-23  owl-carousel owl-theme  tab-pane tab-product-container  fade  active in owl-loaded owl-drag"
                    id="tab-230">

                    <div class="owl-stage-outer">
                      <div class="owl-stage">

                        {% for vehicule in form.vars.data.vehicules %}
                        <div class="owl-item active">
                          <input type="hidden" name="{{ form.vehicules.vars.full_name }}" value="{{ vehicule.id }}">
                          <div class="row_items ">

                            <div class="product-layout grid-style">
                              <div class="product-thumb transition">
                                <div class="item">
                                  <div class="item-inner">

                                    <div class="image images-container">
                                      <a href="http://demo.towerthemes.com/tt_eposi/index.php?route=product/product&amp;product_id=54"
                                        class="product-image">

                                      </a>
                                      <div class="box-label">
                                        <div class="label-product remove-vehicule"><span>X</span></div>
                                      </div>

                                    </div><!-- image -->
                                    <div class="caption">
                                      <div class="inner">

                                        <p class="manufacture-product">
                                          <a href="#">{{ vehicule.category }}</a>
                                        </p>
                                        <h4 class="product-name"><a href="{{ path('vehicule_show', { id: vehicule.id }) }}">
                                            {{ vehicule.brand }} {{ vehicule.model }}</a></h4>
                                        {#<div class="price-box">
                                          <label>Price:</label>
                                          <p class="special-price"><span class="price">£{{ vehicule.price }}</span></p>
                                          <p class="old-price"><span class="price">£64.75</span></p>
                                          <p class="price-tax"><span class="price">Ex Tax: £48.94</span></p>
                                        </div>#}

                                      </div>
                                    </div><!-- caption -->
                                  </div>
                                </div>
                              </div><!-- product-thumb -->
                            </div><!-- product-layout -->
                          </div>
                        </div>
                        {% endfor %}
                      </div>
                    </div>
                    <div class="owl-dots disabled"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% else %}
          {{ form_start(form) }}
          {{ form_widget(form) }}
        {% endif %}

        {% if form.vehicules is defined %}
          <a href="{{ path('vehicules') }}" class="button">Select a vehicule</a>
        {% endif %}
        <button class="button" type="submit">Next</button>
        {{ form_end(form) }}
      </div>
    </div>
  </div>

{% endblock %}

{% block javascript %}
  <script>
		$(document).ready(function () {	
			$('.remove-vehicule').on('click', function () {
				$(this).closest('.owl-item').remove();
			})
		});
	</script>
{% endblock %}